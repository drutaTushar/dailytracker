# Testing Scripts & Data

This directory contains scripts and SQL files for testing the Daily Habit Tracker application.

## ğŸ“ Directory Structure

```
scripts/testing/
â”œâ”€â”€ README.md                 # This file
â”œâ”€â”€ run_sql.sh               # Secure SQL runner script
â”œâ”€â”€ find_user.sql            # Find users by email
â”œâ”€â”€ generate_test_data.sh    # Generate test data for specific user
â””â”€â”€ sample_tasks.sql         # Sample tasks insert template
```

## ğŸ”§ Scripts

### `run_sql.sh` - Secure SQL Runner
Securely runs SQL files against your Supabase database without storing passwords.

**Usage:**
```bash
./run_sql.sh <sql_file>
```

**Example:**
```bash
./run_sql.sh find_user.sql
```

**Features:**
- ğŸ”’ Secure password prompt (no echo)
- ğŸ¯ Auto-detects project from `.env.local`
- ğŸ“ Validates SQL file exists
- ğŸ§¹ Cleans up credentials from memory

### `generate_test_data.sh` - Test Data Generator
Generates task insert statements for a specific user email.

**Usage:**
```bash
./generate_test_data.sh <user_email>
```

**Example:**
```bash
./generate_test_data.sh test-user-1@habittracker.test
```

## ğŸ“‹ SQL Files

### `find_user.sql`
Finds users by email and shows all existing users.

### `sample_tasks.sql`
Template for inserting test tasks (generated by `generate_test_data.sh`).

## ğŸš€ Quick Start

1. **Find existing users:**
   ```bash
   ./run_sql.sh find_user.sql
   ```

2. **Generate test data for a user:**
   ```bash
   ./generate_test_data.sh user@example.com
   ```

3. **Insert the generated test data:**
   ```bash
   ./run_sql.sh sample_tasks.sql
   ```

## ğŸ¯ Test Data Overview

The generated test data includes:
- **19 diverse tasks** across all categories
- **Different difficulty levels** (1-5 stars)
- **Various point values** (3-25 points)
- **All task categories** (Health, Learning, Productivity, etc.)
- **One inactive task** for testing filters
- **Realistic descriptions** for each task

## ğŸ” Security Notes

- All scripts use secure password prompting
- No credentials are stored in files or shell history
- Database URLs are constructed dynamically
- Memory is cleaned after use